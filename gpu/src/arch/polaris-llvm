INSTALL = ../

CUDA=/soft/compilers/cudatoolkit/cuda-11.4.4/

PYTHON_INC=$(shell python -m pybind11 --includes)

FC = ftn
FCFLAGS = -g -fopenmp -O3

CXX = mpicxx
CXXFLAGS = -g -fPIC -fopenmp -O3
#CXXFLAGS += -I$(NVIDIA_PATH)/cuda/include

CXXFLAGS += -D_USE_GPU -D_GPU_OPENMP
CXXFLAGS += -I$(CUDA)/include
CXXFLAGS += -D_SIMPLE_TIMER
#CXXFLAGS += -D_CUDA_NVTX

CUDA_CXX = mpicxx
CUDA_CXXFLAGS += -fopenmp -fopenmp-targets=nvptx64-nvidia-cuda
CUDA_CXXFLAGS += -D_USE_GPU -D_GPU_OPENMP
#CUDA_CXXFLAGS += -D_CUDA_NVTX
CUDA_CXXFLAGS += -D_SIMPLE_TIMER

LD = $(CXX)
LDFLAGS = -fPIC -shared
LIB = -lstdc++
LIB += -L$(CUDA)/lib64 -lcublas
LIB += -lnvToolsExt
